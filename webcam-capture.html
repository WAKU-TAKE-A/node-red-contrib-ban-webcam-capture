<script type="text/javascript">
  RED.nodes.registerType("webcam-capture", {
    category: "BAN",
    color: "#C7E9C0",
    defaults: {
      name: { value: "" }
    },
    inputs: 1,
    outputs: 1,
    icon: "camera.png",
    label: function () {
      return this.name || "Webcam Capture";
    }
  });
</script>

<div class="form-row">
  <label for="node-input-name">
    <i class="fa fa-tag"></i> Name
  </label>
  <input type="text" id="node-input-name" placeholder="Node name">
</div>

<script type="text/html" data-help-name="webcam-capture">
  <h3>Webcam Capture</h3>
  <p>
      This node captures images using a webcam. The image is output as <code>msg.payload</code>.
  </p>

  <h4>Input Message</h4>
  <ul>
      <li><code>msg.width</code> (Optional): The width of the captured image (default: 640)</li>
      <li><code>msg.height</code> (Optional): The height of the captured image (default: 480)</li>
      <li><code>msg.id</code> (Optional): The device ID of the webcam (default: empty string)</li>
      <li><code>msg.callbackReturn</code> (Optional): The format of the callback return value (default: "buffer")</li>
      <li><code>msg.quality</code> (Optional): The quality of the image (1â€“100, default: 90)</li>
      <li><code>msg.frames</code> (Optional): Frame rate (default: 30)</li>
      <li><code>msg.delay</code> (Optional): Delay in capture (ms, default: 0)</li>
      <li><code>msg.output</code> (Optional): Output format (e.g., "jpeg", default: "jpeg")</li>
  </ul>

  <h4>Output Message</h4>
  <ul>
      <li><code>msg.payload</code>: The captured image data.</li>
      <li><code>msg.error</code>: Error message (set if an error occurs).</li>
  </ul>
</script>
